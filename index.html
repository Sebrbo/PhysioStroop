<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>PhysioStroop</title>
  <meta name="description" content="PhysioStroop â€” Test de Stroop interactif pour la rÃ©Ã©ducation (FR/EN).">
  <meta name="theme-color" content="#ffffff" />
  <link rel="manifest" href="manifest.webmanifest" />
<link rel="icon" href="icons/icon-192.png" />
  <!-- PWA: on ajoutera manifest + SW Ã  lâ€™Ã©tape PWA -->
  <link rel="stylesheet" href="css/style.css" />
</head>
  <script>
if ("serviceWorker" in navigator) {
  window.addEventListener("load", () => {
    navigator.serviceWorker
      .register("service-worker.js")
      .then(() => console.log("Service Worker registered"))
      .catch((err) => console.warn("SW registration failed", err));
  });
}
</script>
<body>
  <!-- Ã‰cran : MENU -->
  <main id="screen-menu" class="screen active">
    <h1>PhysioStroop</h1>

    <section class="group">
      <label for="lang-select">Langue / Language</label>
      <select id="lang-select">
        <option value="auto" selected>Auto (systÃ¨me)</option>
        <option value="fr">FranÃ§ais</option>
        <option value="en">English</option>
      </select>
    </section>

    <section class="group">
      <label for="mode-select">Mode</label>
      <select id="mode-select">
        <option value="auto" selected>Automatique</option>
        <option value="manual">Manuel (toucher pour suivant)</option>
      </select>
    </section>

    <section class="group">
      <label for="colors-select">Jeu de couleurs</label>
      <select id="colors-select">
        <option value="4" selected>Standard (4 couleurs)</option>
        <option value="6">Ã‰tendu (6 couleurs)</option>
      </select>
    </section>

    <section class="group">
      <label for="session-duration">DurÃ©e session (s)</label>
      <input id="session-duration" type="number" min="5" max="3600" step="5" value="45" />
    </section>

    <section class="group" id="auto-only">
      <label for="stim-duration">Affichage par mot (s)</label>
      <input id="stim-duration" type="number" min="0.5" max="10" step="0.5" value="2" />
    </section>

    <section class="group">
      <label for="autorestart">RedÃ©marrage auto aprÃ¨s fin (s)</label>
      <input id="autorestart" type="number" min="0" max="30" step="1" value="15" />
    </section>

    <section class="group row">
      <label for="darkmode">Mode sombre</label>
      <input id="darkmode" type="checkbox" />
    </section>

    <button id="start-btn" class="primary">DÃ©marrer</button>

    <!-- Informations d'installation (FR/EN) -->
<section id="install-infos">
  <p class="install-note">
    ğŸ“± <strong>Astuce :</strong> vous pouvez <strong>ajouter PhysioStroop sur votre Ã©cran dâ€™accueil</strong> comme une application.<br>
    â€“ <strong>Sur iPhone / iPad (Safari)</strong> : appuyez sur le bouton <em>Partager</em> puis choisissez <em>â€œAjouter Ã  lâ€™Ã©cran dâ€™accueilâ€</em>.<br>
    â€“ <strong>Sur Android (Chrome)</strong> : ouvrez le menu â‹® puis choisissez <em>â€œInstaller lâ€™applicationâ€</em> ou <em>â€œAjouter Ã  lâ€™Ã©cran dâ€™accueilâ€</em>.<br><br>
    âš¡ï¸ Une fois installÃ©e, <strong>lâ€™application fonctionne sans connexion Internet</strong> (mode <em>hors ligne</em>).
  </p>

  <p class="install-note-en">
    ğŸ“± <strong>Tip:</strong> you can <strong>add PhysioStroop to your home screen</strong> just like a native app.<br>
    â€“ <strong>On iPhone / iPad (Safari)</strong>: tap the <em>Share</em> button, then choose <em>â€œAdd to Home Screenâ€</em>.<br>
    â€“ <strong>On Android (Chrome)</strong>: open the â‹® menu, then tap <em>â€œInstall Appâ€</em> or <em>â€œAdd to Home Screen.â€</em><br><br>
    âš¡ï¸ Once installed, <strong>the app works even without an Internet connection</strong> (offline mode).
  </p>
</section>
     <!-- Aide / Ã€ propos -->
<section id="intro" class="group">
  <details id="intro-box" open>
    <summary id="intro-summary">Ã€ propos / About</summary>
    <div id="intro-fr">
      <p><strong>But :</strong> PhysioStroop est un outil de distraction cognitive inspirÃ© du test de Stroop. Il affiche des <em>mots de couleur</em> dans une <em>couleur dâ€™encre diffÃ©rente</em> (toujours incongruent) afin de solliciter lâ€™attention et la flexibilitÃ© cognitive pendant des exercices de rÃ©Ã©ducation.</p>
      <p><strong>Fonctionnement :</strong> choisissez la langue, le mode (automatique ou manuel), la durÃ©e de la session et, si besoin, le redÃ©marrage automatique. En mode <em>automatique</em>, chaque mot sâ€™affiche pendant le temps dÃ©fini. En mode <em>manuel</em>, touchez lâ€™Ã©cran pour passer au suivant. Le bouton <strong>STOP</strong> interrompt la session.</p>
      <p><strong>Remarques :</strong> pas de mesure de temps/rÃ©ponses ; fond blanc par dÃ©faut (mode sombre optionnel) ; position du mot lÃ©gÃ¨rement variable pour maintenir lâ€™attention.</p>
    </div>
    <div id="intro-en" style="display:none">
      <p><strong>Purpose:</strong> PhysioStroop is a cognitive distraction tool inspired by the Stroop test. It displays <em>color words</em> in a <em>different ink color</em> (always incongruent) to engage attention and cognitive flexibility during rehabilitation tasks.</p>
      <p><strong>How it works:</strong> choose language, mode (automatic or manual), session duration, and optional auto-restart. In <em>automatic</em> mode, each word shows for the selected time. In <em>manual</em> mode, tap anywhere to advance. The <strong>STOP</strong> button ends the session.</p>
      <p><strong>Notes:</strong> no timing/response measurement; white background by default (optional dark mode); slight position jitter to maintain attention.</p>
    </div>
  </details>
</section>
    </p>
    <!-- Ã€ propos de PhysioStroop -->
<section id="about-app" class="group">
  <details id="about-box">
    <summary id="about-summary">Ã€ propos de PhysioStroop</summary>
    <div id="about-fr">
      <p><strong>Version :</strong> 1.0</p>
      <p><strong>Auteur :</strong> <em>Projet open-source PhysioStroop</em></p>
      <p><strong>Licence :</strong> <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a> â€” utilisation non commerciale autorisÃ©e avec attribution.</p>
      <p><a href="https://github.com/ton-nom-utilisateur/PhysioStroop" target="_blank">ğŸ”— Voir le projet sur GitHub</a></p>
    </div>

    <div id="about-en" style="display:none">
      <p><strong>Version:</strong> 1.0</p>
      <p><strong>Author:</strong> <em>PhysioStroop Open-Source Project</em></p>
      <p><strong>License:</strong> <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a> â€” non-commercial use permitted with attribution.</p>
      <p><a href="https://github.com/ton-nom-utilisateur/PhysioStroop" target="_blank">ğŸ”— View project on GitHub</a></p>
    </div>
  </details>
</section>
  </main>

  <!-- Ã‰cran : COMPTE Ã€ REBOURS -->
  <section id="screen-countdown" class="screen">
    <div class="countdown" aria-live="polite">4</div>
  </section>

  <!-- Ã‰cran : SESSION -->
  <section id="screen-session" class="screen">
    <button id="stop-btn" class="stop" aria-label="Stop">STOP</button>
    <div id="stimulus" class="word" role="img" aria-label="stimulus">ROUGE</div>
  </section>

  <!-- Ã‰cran : FIN -->
  <section id="screen-end" class="screen">
    <h2>Session terminÃ©e</h2>
    <div id="end-autorestart" class="subtle"></div>
    <div class="actions">
      <button id="restart-btn" class="primary">Relancer</button>
      <button id="menu-btn">Menu principal</button>
    </div>
  </section>

  <script type="module" src="js/app.js"></script>
</body>
</html>
