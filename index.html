<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>PhysioStroop</title>
  <meta name="description" content="PhysioStroop ‚Äî Test de Stroop interactif pour la r√©√©ducation (FR/EN)." />
  <meta name="theme-color" content="#ffffff" />
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="icon" href="icons/icon-192.png" />
  <link rel="apple-touch-icon" href="icons/icon-192.png" />
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <!-- √âcran : MENU -->
  <main id="screen-menu" class="screen active">
    <h1>PhysioStroop</h1>

    <section class="group">
      <label for="lang-select">Langue / Language</label>
      <select id="lang-select">
        <option value="auto" selected>Auto (syst√®me)</option>
        <option value="fr">Fran√ßais</option>
        <option value="en">English</option>
      </select>
    </section>

    <section class="group">
      <label for="mode-select">Mode</label>
      <select id="mode-select">
        <option value="auto" selected>Automatique</option>
        <option value="manual">Manuel (toucher pour suivant)</option>
      </select>
    </section>

    <section class="group">
      <label for="colors-select">Jeu de couleurs</label>
      <select id="colors-select">
        <option value="4" selected>Standard (4 couleurs)</option>
        <option value="6">√âtendu (6 couleurs)</option>
      </select>
    </section>

    <section class="group">
      <label for="session-duration">Dur√©e session (s)</label>
      <input id="session-duration" type="number" min="5" max="3600" step="5" value="45" />
    </section>

    <section class="group" id="auto-only">
      <label for="stim-duration">Affichage par mot (s)</label>
      <input id="stim-duration" type="number" min="0.5" max="10" step="0.5" value="2" />
    </section>

    <section class="group">
      <label for="autorestart">Red√©marrage auto apr√®s fin (s)</label>
      <input id="autorestart" type="number" min="0" max="30" step="1" value="15" />
    </section>

    <section class="group row">
      <label for="darkmode">Mode sombre</label>
      <input id="darkmode" type="checkbox" />
    </section>

    <button id="start-btn" class="primary">D√©marrer</button>

    <!-- Informations d'installation (FR/EN) -->
    <section id="install-infos">
      <p class="install-note">
        üì± <strong>Astuce :</strong> vous pouvez <strong>ajouter PhysioStroop sur votre √©cran d‚Äôaccueil</strong> comme une application.<br>
        ‚Äì <strong>Sur iPhone / iPad (Safari)</strong> : appuyez sur le bouton <em>Partager</em> puis choisissez <em>‚ÄúAjouter √† l‚Äô√©cran d‚Äôaccueil‚Äù</em>.<br>
        ‚Äì <strong>Sur Android (Chrome)</strong> : ouvrez le menu ‚ãÆ puis choisissez <em>‚ÄúInstaller l‚Äôapplication‚Äù</em> ou <em>‚ÄúAjouter √† l‚Äô√©cran d‚Äôaccueil‚Äù</em>.<br><br>
        ‚ö°Ô∏è Une fois install√©e, <strong>l‚Äôapplication fonctionne sans connexion Internet</strong> (mode <em>hors ligne</em>).
      </p>

      <p class="install-note-en" style="display:none">
        üì± <strong>Tip:</strong> you can <strong>add PhysioStroop to your home screen</strong> just like a native app.<br>
        ‚Äì <strong>On iPhone / iPad (Safari)</strong>: tap the <em>Share</em> button, then choose <em>‚ÄúAdd to Home Screen‚Äù</em>.<br>
        ‚Äì <strong>On Android (Chrome)</strong>: open the ‚ãÆ menu, then tap <em>‚ÄúInstall App‚Äù</em> or <em>‚ÄúAdd to Home Screen.‚Äù</em><br><br>
        ‚ö°Ô∏è Once installed, <strong>the app works even without an Internet connection</strong> (offline mode).
      </p>
    </section>

    <!-- Aide / √Ä propos (texte explicatif FR/EN) -->
    <section id="intro" class="group">
      <details id="intro-box" open>
        <summary id="intro-summary">√Ä propos / About</summary>
        <div id="intro-fr">
          <p><strong>But :</strong> PhysioStroop est un outil de distraction cognitive inspir√© du test de Stroop. Il affiche des <em>mots de couleur</em> dans une <em>couleur d‚Äôencre diff√©rente</em> (toujours incongruent) afin de solliciter l‚Äôattention et la flexibilit√© cognitive pendant des exercices de r√©√©ducation.</p>
          <p><strong>Fonctionnement :</strong> choisissez la langue, le mode (automatique ou manuel), la dur√©e de la session et, si besoin, le red√©marrage automatique. En mode <em>automatique</em>, chaque mot s‚Äôaffiche pendant le temps d√©fini. En mode <em>manuel</em>, touchez l‚Äô√©cran pour passer au suivant. Le bouton <strong>STOP</strong> interrompt la session.</p>
          <p><strong>Remarques :</strong> pas de mesure de temps/r√©ponses ; fond blanc par d√©faut (mode sombre optionnel) ; position du mot l√©g√®rement variable pour maintenir l‚Äôattention.</p>
        </div>
        <div id="intro-en" style="display:none">
          <p><strong>Purpose:</strong> PhysioStroop is a cognitive distraction tool inspired by the Stroop test. It displays <em>color words</em> in a <em>different ink color</em> (always incongruent) to engage attention and cognitive flexibility during rehabilitation tasks.</p>
          <p><strong>How it works:</strong> choose language, mode (automatic or manual), session duration, and optional auto-restart. In <em>automatic</em> mode, each word shows for the selected time. In <em>manual</em> mode, tap anywhere to advance. The <strong>STOP</strong> button ends the session.</p>
          <p><strong>Notes:</strong> no timing/response measurement; white background by default (optional dark mode); slight position jitter to maintain attention.</p>
        </div>
      </details>
    </section>

    <!-- √Ä propos de PhysioStroop -->
    <section id="about-app" class="group">
      <details id="about-box">
        <summary id="about-summary">√Ä propos de PhysioStroop</summary>
        <div id="about-fr">
          <p><strong>Version :</strong> 1.0</p>
          <p><strong>Auteur :</strong> S HERBAUD ‚Äî <em>Projet open-source PhysioStroop</em></p>
          <p><strong>Licence :</strong> <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a> ‚Äî utilisation non commerciale autoris√©e avec attribution.</p>
          <p><a href="https://github.com/ton-nom-utilisateur/PhysioStroop" target="_blank" rel="noopener">üîó Voir le projet sur GitHub</a></p>
        </div>

        <div id="about-en" style="display:none">
          <p><strong>Version:</strong> 1.0</p>
          <p><strong>Author:</strong> S HERBAUD ‚Äî <em>PhysioStroop Open-Source Project</em></p>
          <p><strong>License:</strong> <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a> ‚Äî non-commercial use permitted with attribution.</p>
          <p><a href="https://github.com/ton-nom-utilisateur/PhysioStroop" target="_blank" rel="noopener">üîó View project on GitHub</a></p>
        </div>
      </details>
    </section>
  </main>

  <!-- √âcran : COMPTE √Ä REBOURS -->
  <section id="screen-countdown" class="screen">
    <div class="countdown" aria-live="polite">4</div>
  </section>

  <!-- √âcran : SESSION -->
  <section id="screen-session" class="screen">
    <button id="stop-btn" class="stop" aria-label="Stop">STOP</button>
    <div id="stimulus" class="word" role="img" aria-label="stimulus">ROUGE</div>
  </section>

  <!-- √âcran : FIN -->
  <section id="screen-end" class="screen">
    <h2>Session termin√©e</h2>
    <div id="end-autorestart" class="subtle"></div>
    <div class="actions">
      <button id="restart-btn" class="primary">Relancer</button>
      <button id="menu-btn">Menu principal</button>
    </div>
  </section>

  <!-- PWA: enregistrement du Service Worker -->
  <script>
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker
          .register("service-worker.js")
          .then(() => console.log("Service Worker registered"))
          .catch((err) => console.warn("SW registration failed", err));
      });
    }
  </script>

  <!-- App -->
  <script type="module" src="js/app.js"></script>
</body>
</html>
